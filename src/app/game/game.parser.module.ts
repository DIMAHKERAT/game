import {Atom, Clause} from './clause.model';
import {GameColor} from './gameColor';


export class GameParser {

  temp = '-1 -6 -10 0\n' +
    '1 4 -6 0\n' +
    '4 -5 -6 0\n' +
    '3 4 8 0\n' +
    '-2 3 6 0\n' +
    '-4 -5 -7 0\n' +
    '-3 8 -9 0\n' +
    '-1 -2 -8 0\n' +
    '2 7 -10 0\n' +
    '2 7 -8 0\n' +
    '3 8 10 0\n' +
    '-1 4 5 0\n' +
    '1 5 10 0\n' +
    '3 7 10 0\n' +
    '-2 5 7 0\n' +
    '1 -9 -10 0\n' +
    '-3 6 -10 0\n' +
    '-3 4 -10 0\n' +
    '3 4 5 0\n' +
    '3 -4 -6 0\n' +
    '-3 -7 -8 0\n' +
    '-3 4 5 0\n' +
    '-2 -7 9 0\n' +
    '2 3 -6 0\n' +
    '-1 -4 -10 0\n' +
    '-4 5 -6 0\n' +
    '4 -7 -10 0\n' +
    '7 9 -10 0\n' +
    '2 3 -5 0\n' +
    '-1 8 9 0\n' +
    '-2 6 9 0\n' +
    '2 -3 6 0\n' +
    '1 2 -6 0\n' +
    '-4 6 -8 0\n' +
    '-1 2 8 0\n' +
    '-2 -7 10 0\n' +
    '3 -8 -10 0\n' +
    '-3 -4 -8 0\n' +
    '-6 -9 10 0\n' +
    '5 6 10 0\n' + //;
    '1 4 -6 0\n' +
    '4 -5 -6 0\n' +
    '3 4 8 0\n' +
    '-2 3 6 0\n' +
    '-4 -5 -7 0\n' +
    '-3 8 -9 0\n' +
    '-1 -2 -8 0\n' +
    '2 7 -10 0\n' +
    '2 7 -8 0\n' +
    '3 8 10 0\n' +
    '-1 4 5 0\n' +
    '1 5 10 0\n' +
    '3 7 10 0\n' +
    '-2 5 7 0\n' +
    '1 -9 -10 0\n' +
    '-3 6 -10 0\n' +
    '-3 4 -10 0\n' +
    '3 4 5 0\n' +
    '3 -4 -6 0\n' +
    '-3 -7 -8 0\n' +
    '-3 4 5 0\n' +
    '-2 -7 9 0\n' +
    '2 3 -6 0\n' +
    '-1 -4 -10 0\n' +
    '-4 5 -6 0\n' +
    '4 -7 -10 0\n' +
    '7 9 -10 0\n' +
    '2 3 -5 0\n' +
    '-1 8 9 0\n' +
    '-2 6 9 0\n' +
    '2 -3 6 0\n' +
    '1 2 -6 0\n' +
    '-4 6 -8 0\n' +
    '-1 2 8 0\n' +
    '-2 -7 10 0\n' +
    '3 -8 -10 0\n' +
    '-3 -4 -8 0\n' +
    '-6 -9 10 0\n' +
    '1 4 -6 0\n' +
    '4 -5 -6 0\n' +
    '3 4 8 0\n' +
    '-2 3 6 0\n' +
    '-4 -5 -7 0\n' +
    '-3 8 -9 0\n' +
    '-1 -2 -8 0\n' +
    '2 7 -10 0\n' +
    '2 7 -8 0\n' +
    '3 8 10 0\n' +
    '-1 4 5 0\n' +
    '1 5 10 0\n' +
    '3 7 10 0\n' +
    '-2 5 7 0\n' +
    '1 -9 -10 0\n' +
    '-3 6 -10 0\n' +
    '-3 4 -10 0\n' +
    '3 4 5 0\n' +
    '3 -4 -6 0\n' +
    '-3 -7 -8 0\n' +
    '-3 4 5 0\n' +
    '-2 -7 9 0\n' +
    '2 3 -6 0\n' +
    '-1 -4 -10 0\n' +
    '-4 5 -6 0\n' +
    '4 -7 -10 0\n' +
    '7 9 -10 0\n' +
    '2 3 -5 0\n' +
    '-1 8 9 0\n' +
    '-2 6 9 0\n' +
    '2 -3 6 0\n' +
    '1 2 -6 0\n' +
    '-4 6 -8 0\n' +
    '-1 2 8 0\n' +
    '-2 -7 10 0\n' +
    '3 -8 -10 0\n' +
    '-3 -4 -8 0\n' +
    '-6 -9 10 -9 10 0\n' ;
  clauses: Clause[];
  atoms: Atom[] ;

  constructor() {
    this.clauses = [];
    this.atoms = [];
  }

  public getClauses() {
    const lines = this.temp.split('\n');
    lines.forEach(e => {
      this.atoms = [];
      const tempClause = new Clause(0, this.atoms);
      e = e.slice(0, -1).trim();
      if (e !== '') {
        const temp = e.split(' ');
        temp.forEach(t => {this.atoms.push(new Atom(+t, GameColor.NEUTRAL, tempClause)); });
        this.clauses.push(tempClause);
      }
    });
    console.log(this.clauses);
    return  this.clauses;
  }

}

